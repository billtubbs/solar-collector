metadata:
  name: 300C Inlet Irradiance Steps Constant Properties Test
  description: Constant inputs starting at steady-state conditions with 300 C inlet and constant fluid properties and heat transfer coefficient

system:
  name: TCP-100 Collector
  model:
    module: solar_collector.solar_collector_dae_pyo_two_temp
    create_params:
      t_final: 3900.0  # 65 minutes
      constant_density: true
      constant_viscosity: true
      constant_thermal_conductivity: true
      constant_specific_heat: true
      constant_heat_transfer_coeff: true
      T_ambient: 298.15  # 25°C in Kelvin

simulation:
  n_x: 110
  n_t: 130
  solver:
    max_iter: 1000
    tol: 1.0e-6
    print_level: 0
    tee: false

initial_conditions:
  # Use steady-state initial conditions computed from inputs at t=0
  initial_steady_state: true

inputs:
  # Mass flow rate [kg/s]
  mass_flow_rate:
    ConstantInput:
      value: 1.032

  # Inlet temperature [K]
  T_inlet:
    ConstantInput:
      value: 573.15

  # Solar irradiance [W/m²]
  irradiance:
    StepInput:
      initial_value: 0.0
      steps:
        - time: 300.0
          value: 800.0
        - time: 2100.0
          value: 0.0
